// Code generated by hertz generator.

package main

import (
	"log"
	"net/http"
	_ "net/http/pprof" // å¯¼å…¥pprofç”¨äºæ€§èƒ½åˆ†æ

	"FZUSENekoCaller/biz/dal/mysql"

	"github.com/cloudwego/hertz/pkg/app/server"
)

func main() {
	// å¯åŠ¨pprofæ€§èƒ½åˆ†ææœåŠ¡ï¼ˆç‹¬ç«‹ç«¯å£ï¼‰
	go func() {
		log.Println("ğŸ” pprofæ€§èƒ½åˆ†ææœåŠ¡å¯åŠ¨åœ¨ http://localhost:6060/debug/pprof/")
		log.Println("ğŸ“Š å¯ç”¨çš„åˆ†æç«¯ç‚¹ï¼š")
		log.Println("   - CPU Profile: http://localhost:6060/debug/pprof/profile?seconds=30")
		log.Println("   - Heap Profile: http://localhost:6060/debug/pprof/heap")
		log.Println("   - Goroutine: http://localhost:6060/debug/pprof/goroutine")
		if err := http.ListenAndServe(":6060", nil); err != nil {
			log.Printf("âŒ pprofæœåŠ¡å¯åŠ¨å¤±è´¥: %v", err)
		}
	}()

	// åˆå§‹åŒ–æ•°æ®åº“
	mysql.Init()
	log.Println("âœ… æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ")

	h := server.Default()

	register(h)

	log.Println("æœåŠ¡å™¨å¯åŠ¨åœ¨ç«¯å£ :8888")
	h.Spin()
}
